{
  "info": {
    "name": "Payment Service API - COMPLETE",
    "description": "Complete API collection for Payment Service with all 35 routes implemented",
    "version": "3.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{authToken}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "base_url",
      "value": "{{baseUrl}}",
      "type": "string"
    },
    {
      "key": "auth_token",
      "value": "{{authToken}}",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Payments",
      "item": [
        {
          "name": "Create Payment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"amount\": 99.99,\n  \"currency\": \"EUR\",\n  \"paymentMethod\": \"stripe\",\n  \"eventId\": \"{{event_id}}\",\n  \"ticketIds\": [\"{{ticket_id_1}}\", \"{{ticket_id_2}}\"],\n  \"description\": \"Payment for Tech Conference 2024 tickets\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/payments",
              "host": ["{{base_url}}"],
              "path": ["api", "payments"]
            },
            "description": "Create a new payment (requires payments.create permission)"
          },
          "response": []
        },
        {
          "name": "Get Payment Details",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/payments/{{payment_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "payments", "{{payment_id}}"]
            },
            "description": "Get payment details by ID (requires payments.read permission)"
          },
          "response": []
        },
        {
          "name": "Get User Payments",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/payments/user/{{user_id}}?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["api", "payments", "user", "{{user_id}}"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "limit",
                  "value": "20",
                  "description": "Items per page"
                }
              ]
            },
            "description": "Get payments for a specific user (requires payments.read permission)"
          },
          "response": []
        },
        {
          "name": "Capture Payment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"captureAmount\": 99.99,\n  \"currency\": \"EUR\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/payments/{{payment_id}}/capture",
              "host": ["{{base_url}}"],
              "path": ["api", "payments", "{{payment_id}}", "capture"]
            },
            "description": "Capture a payment (requires payments.update permission)"
          },
          "response": []
        },
        {
          "name": "Cancel Payment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"Customer requested cancellation\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/payments/{{payment_id}}/cancel",
              "host": ["{{base_url}}"],
              "path": ["api", "payments", "{{payment_id}}", "cancel"]
            },
            "description": "Cancel a payment (requires payments.update permission)"
          },
          "response": []
        },
        {
          "name": "List Payments",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/payments?eventId={{event_id}}&status=completed&page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["api", "payments"],
              "query": [
                {
                  "key": "eventId",
                  "value": "{{event_id}}",
                  "description": "Filter by event ID"
                },
                {
                  "key": "status",
                  "value": "completed",
                  "description": "Filter by status"
                },
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "limit",
                  "value": "20",
                  "description": "Items per page"
                }
              ]
            },
            "description": "List payments with filters (requires payments.read permission)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Stripe Payments",
      "item": [
        {
          "name": "Create Payment Intent",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"amount\": 9999,\n  \"currency\": \"eur\",\n  \"customer\": \"{{customerId}}\",\n  \"payment_method\": \"{{paymentMethodId}}\",\n  \"confirmation_method\": \"manual\",\n  \"metadata\": {\n    \"event_id\": \"{{event_id}}\",\n    \"user_id\": \"{{user_id}}\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/stripe/payment-intent",
              "host": ["{{base_url}}"],
              "path": ["api", "stripe", "payment-intent"]
            },
            "description": "Create a Stripe payment intent (requires payments.create permission)"
          },
          "response": []
        },
        {
          "name": "Get Payment Intent",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/stripe/payment-intent/{{paymentIntentId}}",
              "host": ["{{base_url}}"],
              "path": ["api", "stripe", "payment-intent", "{{paymentIntentId}}"]
            },
            "description": "Get Stripe payment intent details (requires payments.read permission)"
          },
          "response": []
        },
        {
          "name": "Confirm Payment Intent",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"payment_intent_id\": \"{{paymentIntentId}}\",\n  \"payment_method\": \"{{paymentMethodId}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/stripe/confirm",
              "host": ["{{base_url}}"],
              "path": ["api", "stripe", "confirm"]
            },
            "description": "Confirm a Stripe payment intent (requires payments.update permission)"
          },
          "response": []
        },
        {
          "name": "Create Customer",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"customer@example.com\",\n  \"name\": \"John Doe\",\n  \"phone\": \"+33612345678\",\n  \"metadata\": {\n    \"user_id\": \"{{user_id}}\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/stripe/customers",
              "host": ["{{base_url}}"],
              "path": ["api", "stripe", "customers"]
            },
            "description": "Create a Stripe customer (requires customers.create permission)"
          },
          "response": []
        },
        {
          "name": "Get Customer",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/stripe/customers/{{customerId}}",
              "host": ["{{base_url}}"],
              "path": ["api", "stripe", "customers", "{{customerId}}"]
            },
            "description": "Get Stripe customer details (requires customers.read permission)"
          },
          "response": []
        },
        {
          "name": "Create Payment Method",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"card\",\n  \"card\": {\n    \"number\": \"4242424242424242\",\n    \"exp_month\": 12,\n    \"exp_year\": 2026,\n    \"cvc\": \"123\"\n  },\n  \"billing_details\": {\n    \"name\": \"John Doe\",\n    \"email\": \"john.doe@example.com\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/stripe/payment-methods",
              "host": ["{{base_url}}"],
              "path": ["api", "stripe", "payment-methods"]
            },
            "description": "Create a Stripe payment method (requires payment-methods.create permission)"
          },
          "response": []
        },
        {
          "name": "Get Customer Payment Methods",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/stripe/customers/{{customerId}}/payment-methods",
              "host": ["{{base_url}}"],
              "path": ["api", "stripe", "customers", "{{customerId}}", "payment-methods"]
            },
            "description": "Get customer's Stripe payment methods (requires payment-methods.read permission)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Invoices",
      "item": [
        {
          "name": "Generate Invoice PDF",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"payment_id\": \"{{payment_id}}\",\n  \"customer_details\": {\n    \"name\": \"John Doe\",\n    \"email\": \"john.doe@example.com\",\n    \"address\": \"123 Main St, Paris, France\"\n  },\n  \"items\": [\n    {\n      \"description\": \"Tech Conference 2024 Ticket\",\n      \"quantity\": 2,\n      \"unit_price\": 99.99,\n      \"total\": 199.98\n    }\n  ],\n  \"due_date\": \"2026-02-27\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/invoices/generate",
              "host": ["{{base_url}}"],
              "path": ["api", "invoices", "generate"]
            },
            "description": "Generate invoice PDF (requires invoices.create permission)"
          },
          "response": []
        },
        {
          "name": "Get Invoice",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/invoices/{{invoiceId}}",
              "host": ["{{base_url}}"],
              "path": ["api", "invoices", "{{invoiceId}}"]
            },
            "description": "Get invoice details (requires invoices.read permission)"
          },
          "response": []
        },
        {
          "name": "Download Invoice PDF",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/invoices/{{invoiceId}}/download",
              "host": ["{{base_url}}"],
              "path": ["api", "invoices", "{{invoiceId}}", "download"]
            },
            "description": "Download invoice PDF (requires invoices.read permission)"
          },
          "response": []
        },
        {
          "name": "List Invoices",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/invoices?page=1&limit=20&status=paid",
              "host": ["{{base_url}}"],
              "path": ["api", "invoices"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "limit",
                  "value": "20",
                  "description": "Items per page"
                },
                {
                  "key": "status",
                  "value": "paid",
                  "description": "Filter by status"
                }
              ]
            },
            "description": "List invoices with filters (requires invoices.read permission)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Refunds",
      "item": [
        {
          "name": "Create Stripe Refund",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"payment_intent_id\": \"{{paymentIntentId}}\",\n  \"amount\": 5000,\n  \"reason\": \"requested_by_customer\",\n  \"metadata\": {\n    \"refund_reason\": \"Customer not satisfied\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/refunds/stripe",
              "host": ["{{base_url}}"],
              "path": ["api", "refunds", "stripe"]
            },
            "description": "Create a Stripe refund (requires refunds.create permission)"
          },
          "response": []
        },
        {
          "name": "Create PayPal Refund",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"capture_id\": \"{{captureId}}\",\n  \"amount\": {\n    \"currency_code\": \"EUR\",\n    \"value\": \"50.00\"\n  },\n  \"reason\": \"Customer requested refund\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/refunds/paypal",
              "host": ["{{base_url}}"],
              "path": ["api", "refunds", "paypal"]
            },
            "description": "Create a PayPal refund (requires refunds.create permission)"
          },
          "response": []
        },
        {
          "name": "Get Refund Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/refunds/{{refundId}}",
              "host": ["{{base_url}}"],
              "path": ["api", "refunds", "{{refundId}}"]
            },
            "description": "Get refund status by ID (requires refunds.read permission)"
          },
          "response": []
        },
        {
          "name": "List Refunds",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/refunds?page=1&limit=20&status=succeeded",
              "host": ["{{base_url}}"],
              "path": ["api", "refunds"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "limit",
                  "value": "20",
                  "description": "Items per page"
                },
                {
                  "key": "status",
                  "value": "succeeded",
                  "description": "Filter by status"
                }
              ]
            },
            "description": "List refunds with filters (requires refunds.read permission)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Payment Methods",
      "item": [
        {
          "name": "Get User Payment Methods",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/payment-methods?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["api", "payment-methods"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "limit",
                  "value": "20",
                  "description": "Items per page"
                }
              ]
            },
            "description": "Get user's payment methods (requires payment-methods.read permission)"
          },
          "response": []
        },
        {
          "name": "Add Payment Method",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"card\",\n  \"provider\": \"stripe\",\n  \"card\": {\n    \"number\": \"4242424242424242\",\n    \"exp_month\": 12,\n    \"exp_year\": 2026,\n    \"cvc\": \"123\"\n  },\n  \"billing_address\": {\n    \"line1\": \"123 Main St\",\n    \"city\": \"Paris\",\n    \"country\": \"FR\",\n    \"postal_code\": \"75001\"\n  },\n  \"is_default\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/payment-methods",
              "host": ["{{base_url}}"],
              "path": ["api", "payment-methods"]
            },
            "description": "Add a new payment method (requires payment-methods.create permission)"
          },
          "response": []
        },
        {
          "name": "Update Payment Method",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"is_default\": true,\n  \"billing_address\": {\n    \"line1\": \"456 Updated St\",\n    \"city\": \"Lyon\",\n    \"country\": \"FR\",\n    \"postal_code\": \"69001\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/payment-methods/{{methodId}}",
              "host": ["{{base_url}}"],
              "path": ["api", "payment-methods", "{{methodId}}"]
            },
            "description": "Update payment method (requires payment-methods.update permission)"
          },
          "response": []
        },
        {
          "name": "Delete Payment Method",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/payment-methods/{{methodId}}",
              "host": ["{{base_url}}"],
              "path": ["api", "payment-methods", "{{methodId}}"]
            },
            "description": "Delete payment method (requires payment-methods.delete permission)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Wallets",
      "item": [
        {
          "name": "Get Wallet Balance",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/wallets/balance",
              "host": ["{{base_url}}"],
              "path": ["api", "wallets", "balance"]
            },
            "description": "Get wallet balance (requires wallets.read permission)"
          },
          "response": []
        },
        {
          "name": "Get Wallet Transactions",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/wallets/transactions?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["api", "wallets", "transactions"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "limit",
                  "value": "20",
                  "description": "Items per page"
                }
              ]
            },
            "description": "Get wallet transactions (requires wallets.read permission)"
          },
          "response": []
        },
        {
          "name": "Get Wallet Statistics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/wallets/statistics",
              "host": ["{{base_url}}"],
              "path": ["api", "wallets", "statistics"]
            },
            "description": "Get wallet statistics (requires wallets.read permission)"
          },
          "response": []
        },
        {
          "name": "Create Withdrawal",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"amount\": 100.00,\n  \"currency\": \"EUR\",\n  \"destination\": \"iban:FR7630006000011234567890189\",\n  \"description\": \"Monthly withdrawal\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/wallets/withdrawals",
              "host": ["{{base_url}}"],
              "path": ["api", "wallets", "withdrawals"]
            },
            "description": "Create withdrawal request (requires wallets.withdraw permission)"
          },
          "response": []
        },
        {
          "name": "Get Withdrawals",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/wallets/withdrawals?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["api", "wallets", "withdrawals"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "limit",
                  "value": "20",
                  "description": "Items per page"
                }
              ]
            },
            "description": "Get withdrawal requests (requires wallets.read permission)"
          },
          "response": []
        },
        {
          "name": "Get Commission Statistics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/wallets/commissions/statistics",
              "host": ["{{base_url}}"],
              "path": ["api", "wallets", "commissions", "statistics"]
            },
            "description": "Get commission statistics (requires commissions.read permission)"
          },
          "response": []
        },
        {
          "name": "Get User Commissions",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/wallets/commissions/user?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["api", "wallets", "commissions", "user"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "limit",
                  "value": "20",
                  "description": "Items per page"
                }
              ]
            },
            "description": "Get user commissions (requires commissions.read permission)"
          },
          "response": []
        },
        {
          "name": "Get Commission Rates",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/wallets/commissions/rates",
              "host": ["{{base_url}}"],
              "path": ["api", "wallets", "commissions", "rates"]
            },
            "description": "Get commission rates (requires commissions.read permission)"
          },
          "response": []
        },
        {
          "name": "Create Commission Projection",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"event_id\": \"{{event_id}}\",\n  \"projected_revenue\": 5000.00,\n  \"projection_period\": \"monthly\",\n  \"notes\": \"Expected high attendance\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/wallets/commissions/projections",
              "host": ["{{base_url}}"],
              "path": ["api", "wallets", "commissions", "projections"]
            },
            "description": "Create commission projection (requires commissions.create permission)"
          },
          "response": []
        },
        {
          "name": "Get Commission Projections",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/wallets/commissions/projections?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["api", "wallets", "commissions", "projections"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "limit",
                  "value": "20",
                  "description": "Items per page"
                }
              ]
            },
            "description": "Get commission projections (requires commissions.read permission)"
          },
          "response": []
        },
        {
          "name": "Get Commission Projection",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/wallets/commissions/projections/{{projectionId}}",
              "host": ["{{base_url}}"],
              "path": ["api", "wallets", "commissions", "projections", "{{projectionId}}"]
            },
            "description": "Get commission projection by ID (requires commissions.read permission)"
          },
          "response": []
        },
        {
          "name": "Settle Commission Projection",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"actual_amount\": 5200.00,\n  \"notes\": \"Higher than expected attendance\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/wallets/commissions/projections/{{projectionId}}/settle",
              "host": ["{{base_url}}"],
              "path": ["api", "wallets", "commissions", "projections", "{{projectionId}}", "settle"]
            },
            "description": "Settle commission projection (requires commissions.settle permission)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Health & Monitoring",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health",
              "host": ["{{base_url}}"],
              "path": ["health"]
            },
            "description": "Basic health check (no authentication required)"
          },
          "response": []
        },
        {
          "name": "Detailed Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health/detailed",
              "host": ["{{base_url}}"],
              "path": ["health", "detailed"]
            },
            "description": "Detailed health check (authentication required)"
          },
          "response": []
        },
        {
          "name": "Readiness Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health/ready",
              "host": ["{{base_url}}"],
              "path": ["health", "ready"]
            },
            "description": "Readiness probe for Kubernetes"
          },
          "response": []
        },
        {
          "name": "Liveness Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health/live",
              "host": ["{{base_url}}"],
              "path": ["health", "live"]
            },
            "description": "Liveness probe for Kubernetes"
          },
          "response": []
        },
        {
          "name": "Provider Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health/providers",
              "host": ["{{base_url}}"],
              "path": ["health", "providers"]
            },
            "description": "Get payment providers status"
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "exec": [
          "// Auto-refresh token if expired",
          "if (pm.collectionVariables.get('authToken') === 'your_jwt_token_here') {",
          "    pm.collectionVariables.set('authToken', 'your_real_jwt_token');",
          "}"
        ],
        "type": "text/javascript"
      }
    }
  ]
}

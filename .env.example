# üí≥ Event Planner - Payment Service Environment Configuration

# ===========================================
# üöÄ SERVEUR & ENVIRONNEMENT
# ===========================================
PORT=3003
NODE_ENV=development

# ===========================================
# üóÑÔ∏è BASE DE DONN√âES POSTGRESQL
# ===========================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=event_planner_payments
DB_USER=postgres
DB_PASSWORD=postgres
DB_SSL=false

# Bootstrap automatique de la base de donn√©es
DB_AUTO_BOOTSTRAP=false

# ===========================================
# üîê AUTHENTIFICATION UNIFI√âE
# ===========================================
# ‚ö†Ô∏è IMPORTANT: Utiliser le m√™me secret que l'auth service
JWT_SECRET=your_super_secure_256_bit_secret_key_change_in_production
JWT_ALGORITHM=HS256
JWT_ISSUER=auth-service
JWT_AUDIENCE=event-planner

# Configuration validation JWT
JWT_VERIFY_ISSUER=true
JWT_VERIFY_AUDIENCE=true
JWT_VERIFY_EXPIRATION=true
JWT_MAX_AGE=7d
JWT_CLOCK_TOLERANCE=0

# ===========================================
# üåê INTER-SERVICES COMMUNICATION
# ===========================================
# Token partag√© pour communication entre services
SHARED_SERVICE_TOKEN=shared-service-token-abcdef12345678901234567890

# URLs des autres services
AUTH_SERVICE_URL=http://localhost:3000
CORE_SERVICE_URL=http://localhost:3001
NOTIFICATION_SERVICE_URL=http://localhost:3002
TICKET_GENERATOR_SERVICE_URL=http://localhost:3004
SCAN_VALIDATION_SERVICE_URL=http://localhost:3005

# ===========================================
# üíæ CACHE REDIS
# ===========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password
REDIS_DB=3

# ===========================================
# üí≥ STRIPE PAYMENT PROCESSOR
# ===========================================
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret

# Configuration Stripe
STRIPE_API_VERSION=2023-10-16
STRIPE_DEFAULT_CURRENCY=eur
STRIPE_MINIMUM_AMOUNT=100

# ===========================================
# üí≥ PAYPAL PAYMENT PROCESSOR
# ===========================================
PAYPAL_CLIENT_ID=your_paypal_client_id
PAYPAL_CLIENT_SECRET=your_paypal_client_secret
PAYPAL_WEBHOOK_ID=your_paypal_webhook_id

# Configuration PayPal
PAYPAL_MODE=sandbox
PAYPAL_API_BASE_URL=https://api-m.sandbox.paypal.com

# ===========================================
# üìä MONITORING
# ===========================================
ENABLE_METRICS=true
METRICS_PORT=9093

# ===========================================
# üìù LOGGING
# ===========================================
LOG_LEVEL=info
LOG_FILE_PATH=logs
LOG_MAX_SIZE=20MB
LOG_MAX_FILES=14d

# ===========================================
# üö¶ RATE LIMITING
# ===========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200
PAYMENT_ATTEMPT_RATE_LIMIT=10

# ===========================================
# üí≥ PAYMENT CONFIGURATION
# ===========================================
PAYMENT_TIMEOUT_MINUTES=30
REFUND_WINDOW_DAYS=30
AUTO_REFUND_FAILED_PAYMENTS=false

# ===========================================
# üìß INVOICES & RECEIPTS
# ===========================================
INVOICE_TEMPLATE_PATH=./templates/invoices
INVOICE_LOGO_PATH=./assets/logo.png
INVOICE_COMPANY_NAME=Event Planner SAS
INVOICE_COMPANY_ADDRESS=123 Rue de l'√âv√©nement, 75001 Paris, France
INVOICE_COMPANY_SIRET=12345678901234

# ===========================================
# üîÑ WEBHOOKS
# ===========================================
WEBHOOK_TIMEOUT=10000
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_SECRET=your_payment_webhook_secret

# ===========================================
# üõ°Ô∏è FRAUD DETECTION
# ===========================================
ENABLE_FRAUD_DETECTION=true
MAX_PAYMENT_ATTEMPTS_PER_IP=5
SUSPICIOUS_AMOUNT_THRESHOLD=10000

# ===========================================
# üìä PAYMENT STATISTICS
# ===========================================
ENABLE_DETAILED_LOGGING=true
STATISTICS_RETENTION_DAYS=90
DAILY_REPORT_ENABLED=true
